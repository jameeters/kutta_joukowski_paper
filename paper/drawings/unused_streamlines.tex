\newcount\scale
\advance\scale by 3

\newcount\angle
\advance\angle by 0

\draw[scale = \the\scale, rotate = \the\angle, fill = lightgray] plot file{../airfoils/NACA_0030.dat} -- cycle;

\draw [draw = none, rotate = \the\angle] (0, 0) to coordinate[pos=0] (LE) coordinate[pos=0.5] (mid)  coordinate[pos=1] (TE) (\the\scale, 0);

\newcount\wdist
\advance\wdist by -2

\newdimen\wspace
\advance\wspace by 2 pt

\newdimen\wgap
\advance\wgap by 10 pt

\draw[wind](\the\wdist, 0) to coordinate [pos = 0] (wind_start) (LE);
\draw[wind](TE) -- ($(TE) + (-\the\wdist, 0)$);


\coordinate(top_1) at (0.175\the\scale , 0.4\the\scale);
\coordinate(top_2) at ($(top_1) + (0.5, 0.15)$);
\coordinate(top_3) at ($(top_2) + (1, -0.075)$);
\coordinate(top_4) at ($(top_3) + (1, -0.23)$);
\coordinate(top_5) at ($(top_4) + (2.1, -0.09)$);

\draw[wind]($(wind_start)+(0, \the\wgap )$) to [out = 0, in = 190] (top_1);
\draw[wind, shorten <= 0 pt](top_1) [out = 10, in = 190] to (top_2);
\draw[wind, shorten <= 0 pt](top_2) [out = 10, in = 170] to (top_3);
\draw[wind, shorten <= 0 pt](top_3) [out = -10, in = 170] to (top_4);
\draw[wind, shorten <= 0 pt](top_4) [out = -10, in = 180] to (top_5);


\coordinate(botm_1) at (0.175\the\scale , -0.4\the\scale);
\coordinate(botm_2) at ($(botm_1) + (0.5, -0.15)$);
\coordinate(botm_3) at ($(botm_2) + (1, 0.075)$);
\coordinate(botm_4) at ($(botm_3) + (1, 0.23)$);
\coordinate(botm_5) at ($(botm_4) + (2.1, 0.09)$);

\draw[wind]($(wind_start)+(0, -\the\wgap )$) to [out = 0, in = 170] (botm_1);
\draw[wind, shorten <= 0 pt](botm_1) [out = -10, in = 170] to (botm_2);
\draw[wind, shorten <= 0 pt](botm_2) [out = -10, in = 190] to (botm_3);
\draw[wind, shorten <= 0 pt](botm_3) [out = 10, in = 190] to (botm_4);
\draw[wind, shorten <= 0 pt](botm_4) [out = 10, in = 180] to (botm_5);

\coordinate(top_22) at ($(top_2) + (0, \the\wgap)$);
\coordinate(top_24) at ($(top_4) + (0, \the\wgap)$);
\coordinate(top_25) at ($(top_5) + (-0.2, \the\wgap)$);

\draw[wind]                 ($(wind_start)+(0, \the\wgap + \the\wgap )$) to [out = 0, in = 190] (top_22);
\draw[wind, shorten <= 0 pt](top_22)                                     to [out = 10, in = 170] (top_24);
\draw[wind, shorten <= 0 pt](top_24)                                     to [out = -10, in = 180] (top_25);

\coordinate(botm_22) at ($(botm_2) + (0, -\the\wgap)$);
\coordinate(botm_24) at ($(botm_4) + (0, -\the\wgap)$);
\coordinate(botm_25) at ($(botm_5) + (-0.2, -\the\wgap)$);

\draw[wind]($(wind_start)+(0, -\the\wgap - \the\wgap )$) to [out = 0, in = 170] (botm_22);
\draw[wind, shorten <= 0 pt](botm_22)                                     to [out = -10, in = 190] (botm_24);
\draw[wind, shorten <= 0 pt](botm_24)                                     to [out = 10, in = 180] (botm_25);

% \draw[rounded corners = 5 pt, draw = gray] 
% (wind_start) -- ($(wind_start) + (0.5, 1)$) -- (0, 1.3) -- (1, 1.4) -- (2.5, 1.3) --(4, 1) -- (5.75, 0.5)
% -- (6, 0) --
% (5.75, -0.5) -- (4, -1) -- (2.5, -1.3) -- (1, -1.4) -- (0, -1.3) -- ($(wind_start) + (0.5, -1)$) -- cycle;

% \draw[draw = none, pattern = north east lines, pattern color = gray]
% (wind_start) -- ($(wind_start) + (0.5, 1)$) -- (0,1.3) -- (1, 1.4) -- (2.5, 1.3) --(4, 1) -- (5.75, 0.5) -- (6, 0) -- (6, 2) -- ($(wind_start) + (0, 2)$) -- cycle;

% \draw[draw = none, pattern = north east lines, pattern color = gray] 
% (wind_start) -- ($(wind_start) + (0.5, -1)$) -- (0, -1.3) -- (1, -1.4) -- (2.5, -1.3) --(4, -1) -- (5.75, -0.5) -- (6, 0)-- (6, -2) -- ($(wind_start) + (0, -2)$) -- cycle;
